# 9XR

Docker-контейнер поднимает виртуальный X11-десктоп (Xvfb+openbox) и отдаёт его в браузер через noVNC. Приложение `spherical_monitor` захватывает root-окно X11 и рисует его как текстуру на внутренней поверхности сферы (стрелки вращают камеру, `Space` отправляет клик в центр захваченного окна).

## Запуск

```bash
docker compose up -d --build
```

Открыть: `http://127.0.0.1:6080/vnc.html`

## Переменные окружения

- `VIRT_W`, `VIRT_H` — размер виртуального экрана Xvfb (по умолчанию 5120x1440)
- `DISPLAY_NUM` — дисплей Xvfb (по умолчанию `:0`)
- `CAPTURE_FPS` — ограничение FPS захвата X11 (0/не задано = каждый кадр)
- `VNC_PORT` (по умолчанию 5900), `NOVNC_PORT` (по умолчанию 6080)
- `VNC_PASSWORD` — если задан, включается аутентификация VNC
- `VNC_LOCALHOST_ONLY=1` — ограничить VNC слушать только localhost (noVNC продолжит работать)

## Если "всё чёрное"

- Проверь логи: `docker compose logs --tail=200 spherical-monitor`
- Если видишь предупреждение про `GL_MAX_TEXTURE_SIZE`, уменьши `VIRT_W`/`VIRT_H` (например, до 3840x1080) в `docker-compose.yml`.
- Для снижения нагрузки попробуй `CAPTURE_FPS=15`.
